<html>
    <head>
        <title>Registration</title>
        <link rel="stylesheet" type="text/css" href="rstyle.css">
    </head>
    <body>
        <div class= "main">
            <div class= "register">
            <h2>Register Here</h2>
        <form id ="register" method= "post">
            <label>Role</label>
            <br>
            &nbsp; &nbsp; &nbsp;
            <input type= "radio" name= "Role" id= "user" required>
            &nbsp;
            <span id = "user">User </span>
            &nbsp; &nbsp; &nbsp; &nbsp;
            <input type= "radio" name= "Role" id= "nursery">
            &nbsp;
            <span id= "nursery">Nursery</span>
            <br><br>
            <label>First Name:</label>
            <br>
            <input type= "text" name= "fname" id= "name" placeholder ="Enter Your First Name" required minlength="4" maxlength="50">
            <br><br>
            <label>Last Name:</label>
            <br>
            <input type= "text" name= "lname" id= "name" placeholder ="Enter Your Last Name" required minlength="4" maxlength="50">
            <br><br>
            <label>Nursery Name:</label>
            <br>
            <input type= "text" name= "nursery name" id= "name" placeholder ="Enter Your Nursery Name" required minlength="4" maxlength="50">
            <br><br>
            <label>Contact Number:</label>
            <br>
            <input type= "tel" name= "number" id= "name" placeholder ="Enter Your contact number" required pattern="(?=.*\d).{10,10}" title="91XXXXXXXX">
            <br><br>
            <label>Email Id:</label>
            <br>
            <input type= "email" name= "mail" id= "name" placeholder ="Enter Your Email" required>
            <br><br>
            <label>Password:</label>
            <br>
            <input type= "password" name= "password" id= "name" placeholder ="min 6 letters with special character included" required pattern="(?=.*[!@#$%^&*]).{6,}" title="minimum 6 letters with special characters included">
            <br><br>
            <label>Address:</label>
            <br>
            <input type= "text" name= "address" id= "name" placeholder ="Enter Your Address" required >
            <br><br>
            <label>Id:</label>
            <br>
            <input type= "text" name= "UID" id= "name" placeholder ="Enter Your User Id" required >
            <br><br>
            <label>Date Of Birth:</label>
            <br>
        <input type="text" id="txtDate" placeholder="DD/MM/YYYY" onblur = "ValidateDOB()" />
        <span class="error" id="lblError"></span>
        <br />
        <br />
        <input type="submit" id="submit"  onclick="return ValidateDOB()"/>
    </form >
        </div>
    </div>
    <script type="text/javascript">
        function ValidateDOB() {
            var lblError = document.getElementById("lblError");
            //Get the date from the TextBox.
            var dateString = document.getElementById("txtDate").value;
            var regex = /(((0|1)[0-9]|2[0-9]|3[0-1])\/(0[1-9]|1[0-2])\/((19|20)\d\d))$/;
            //Check whether valid dd/MM/yyyy Date Format.
            if (regex.test(dateString)) {
                var parts = dateString.split("/");
                var dtDOB = new Date(parts[1] + "/" + parts[0] + "/" + parts[2]);
                var dtCurrent = new Date();
                lblError.innerHTML = "Eligibility is above 18 years ONLY."
                if (dtCurrent.getFullYear() - dtDOB.getFullYear() < 18) {
                    return false;
                }
     
                if (dtCurrent.getFullYear() - dtDOB.getFullYear() == 18) {
     
                    //CD: 11/06/2018 and DB: 15/07/2000. Will turned 18 on 15/07/2018.
                    if (dtCurrent.getMonth() < dtDOB.getMonth()) {
                        return false;
                    }
                    if (dtCurrent.getMonth() == dtDOB.getMonth()) {
                        //CD: 11/06/2018 and DB: 15/06/2000. Will turned 18 on 15/06/2018.
                        if (dtCurrent.getDate() < dtDOB.getDate()) {
                            return false;
                        }
                    }
                }
                lblError.innerHTML = "";
                return true;
            } else {
                lblError.innerHTML = "Enter date in dd/MM/yyyy format ONLY."
                return false;
            }
        }
    </script>
    </body>
</html>
